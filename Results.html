<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="css/styles.css" />
  <title>Module Results</title>
</head>
<body class="black-page">
  <header class="sticky-header">
    <nav>
      <a href="index.html">Home</a>
      <a href="playmodule.html">Play The Module</a>
    </nav>
  </header>

  <h5>Thank you for playing! Google's Gemini was asked to complete various creative tasks to complete a campaign for "Greene's Organic Orange Juice". If you selected "Option 1", thank Gemini! If you chose "Option 2", you selected the work of a human! Take a look below to see your choices throughout the module.</h5>

  <main style="max-width:1000px;margin:90px auto 60px;padding:20px;color:#fff;">
    <h4>Your Choices</h4>
    <div id="results-list" aria-live="polite"></div>

    <div style="margin-top:28px;">
      <button id="clearBtn" style="padding:10px 18px;border-radius:6px;background:#ff7a00;color:#fff;border:none;cursor:pointer;">
        Clear and Retry
      </button>
      <a href="index.html" style="margin-left:12px;color:#fff;text-decoration:underline;">Back to Home</a>
    </div>
  </main>

  <script>
    const listEl = document.getElementById('results-list');
    const choices = JSON.parse(localStorage.getItem('moduleChoices') || '[]');

    if (!choices.length || choices.every(c => c === null || c === undefined)) {
      listEl.innerHTML = '<p>No choices recorded yet. <a href="playmodule.html">Start the module</a>.</p>';
    } else {
      const ul = document.createElement('ol');
      ul.style.paddingLeft = '20px';
      choices.forEach((c, i) => {
        const li = document.createElement('li');
        if (!c) {
          li.textContent = `Slide ${i + 1}: (no choice)`;
        } else {
          li.textContent = `Slide ${i + 1}: ${c.option} â€” ${c.caption || ''}`;
        }
        ul.appendChild(li);
      });
      listEl.appendChild(ul);
    }

    document.getElementById('clearBtn').addEventListener('click', () => {
      localStorage.removeItem('moduleChoices');
      window.location.href = 'playmodule.html';
    });
  </script>
</body>
</html>